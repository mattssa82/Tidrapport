<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Sök – Tidrapport</title>
  <meta name="theme-color" content="#0e6677">
  <link rel="icon" href="icon-192.png">
  <script src="lucide.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.8.4/jspdf.plugin.autotable.min.js"></script>
  <script src="search.js" defer></script>
  <style>
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
         margin:0;padding:1rem;background:#f9fafb;color:#1f2937}
    h1{color:#0e6677;display:flex;align-items:center;gap:.5rem;margin:0 0 1rem}
    .filters{display:grid;gap:.75rem;margin-bottom:1rem}
    @media(min-width:700px){.filters{grid-template-columns:repeat(4,1fr)}}
    label{font-size:.85rem;color:#6b7280;display:block;margin-bottom:.2rem}
    input,select{width:100%;padding:.5rem .6rem;border:1px solid #cbd5e1;border-radius:.6rem}
    table{width:100%;border-collapse:collapse;font-size:.95rem;margin-top:1rem}
    th,td{padding:.5rem;border-bottom:1px solid #e5e7eb;text-align:left}
    th{font-size:.78rem;color:#6b7280;text-transform:uppercase;letter-spacing:.4px}
    .actions{display:flex;gap:.5rem;flex-wrap:wrap;margin-top:1rem}
    .btn{border:0;border-radius:.6rem;padding:.55rem .9rem;font-weight:600;
         cursor:pointer;display:inline-flex;align-items:center;gap:.4rem}
    .btn.primary{background:#0e6677;color:#fff}
    .btn.ghost{background:#eef2f7}
  </style>
</head>
<body>
  <button class="btn ghost" onclick="history.back()"><i data-lucide='arrow-left'></i>Tillbaka</button>
  <h1><i data-lucide="search"></i>Sök / Filter</h1>

  <div class="filters">
    <div>
      <label>Datum från</label>
      <input type="date" id="fromDate">
    </div>
    <div>
      <label>Datum till</label>
      <input type="date" id="toDate">
    </div>
    <div>
      <label>Kategori</label>
      <select id="filterType">
        <option value="">Alla</option>
        <option>Ordinarie</option><option>Flextid</option><option>ATF-tim</option>
        <option>Semester-tim</option><option>Sjuk-tim</option><option>Föräldraledig</option>
        <option>VAB</option><option>Övertid <2</option><option>Övertid 2></option>
        <option>Övertid-Helg</option><option>Traktamente</option>
      </select>
    </div>
    <div>
      <label>Projekt / Beskrivning</label>
      <input type="text" id="filterText" placeholder="Fritext...">
    </div>
  </div>

  <div class="actions">
    <button class="btn primary" onclick="Search.runFilter()"><i data-lucide='filter'></i>Filtrera</button>
    <button class="btn ghost" onclick="Search.clearFilter()"><i data-lucide='x-circle'></i>Rensa</button>
    <button class="btn ghost" onclick="Search.exportCSV()"><i data-lucide='file-down'></i>Export CSV</button>
    <button class="btn ghost" onclick="Search.exportPDF()"><i data-lucide='file-text'></i>Export PDF</button>
  </div>

  <table>
    <thead>
      <tr><th>Datum</th><th>Projekt</th><th>Kategori</th><th>Tid</th><th>Körtid</th><th>Beskrivning</th></tr>
    </thead>
    <tbody id="resultBody"></tbody>
  </table>

  <script>
    if(window.lucide) lucide.createIcons();
  </script>
</body>
</html>