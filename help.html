<!DOCTYPE html>
<html lang="sv">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Hjälp – Tidrapport</title>
<link rel="icon" href="icon-512.png" />
<script src="lucide.min.js"></script>
<style>
body{
  font-family:system-ui;
  background:#f6f7f9;
  margin:0;
  padding:1rem;
  color:#1f2937;
}
header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  background:#0e6677;
  color:#fff;
  padding:.8rem 1rem;
}
header h1{
  margin:0;
  font-size:1.2rem;
}
button.iconbtn{
  background:#0a515f;
  border:0;
  border-radius:.5rem;
  color:#fff;
  width:40px;
  height:40px;
  display:grid;
  place-items:center;
  cursor:pointer;
}
main{
  max-width:900px;
  margin:auto;
  background:#fff;
  padding:1.2rem;
  border:1px solid #e5e7eb;
  border-radius:.5rem;
  line-height:1.55;
}
h2{
  margin-top:1.2rem;
  font-size:1.05rem;
  border-bottom:1px solid #e5e7eb;
  padding-bottom:.2rem;
}
ul{margin-left:1.2rem}
.note{
  background:#f0fdf4;
  border-left:4px solid #0e6677;
  padding:.5rem .8rem;
  border-radius:.3rem;
}
.problem{
  background:#fff7ed;
  border-left:4px solid #f97316;
  padding:.5rem .8rem;
  border-radius:.3rem;
}
code{
  background:#e5e7eb;
  font-size:.8rem;
  padding:0 .3rem;
  border-radius:.3rem;
}
</style>
</head>
<body>
<header>
  <h1>Hjälp & Användarguide</h1>
  <button class="iconbtn" onclick="history.back()" title="Stäng">
    <i data-lucide="x"></i>
  </button>
</header>

<main>
  <h2>1. Så fyller du i tid</h2>
  <ul>
    <li>Välj <b>Datum</b>.</li>
    <li>Varje rad har <b>Kategori</b> och <b>Tid</b>.</li>
    <li>Tryck <b>+</b> för att lägga till en ny rad.</li>
    <li>Du kan bara använda varje kategori en gång per dag.</li>
  </ul>

  <div class="note">
    <b>Traktamente</b>:  
    Om du väljer "Traktamente" som kategori döljs tidsfältet på den raden.
    "Traktamente" räknas inte i timmar.  
    Du kan bara ha "Traktamente" en gång.
  </div>

  <h2>2. Total arbetstid</h2>
  <ul>
    <li>Alla kategorier utom "Traktamente" har ett tidvärde (timmar).</li>
    <li>Appen summerar allt automatiskt till en totalsiffra (<code>tid</code>).</li>
    <li>Totalsiffran (<code>tid</code>) används i export, PDF och CSV. Exportens layout är oförändrad.</li>
  </ul>

  <h2>3. Projekt, Körtid och Beskrivning</h2>
  <ul>
    <li><b>Projekt nr</b> – vilket jobb/projekt raden tillhör.</li>
    <li><b>Körtid</b> – körd tid (t.ex. resor). Exporteras separat.</li>
    <li><b>Beskrivning</b> – vad du gjorde den dagen, fritext.</li>
  </ul>

  <h2>4. Ändra eller ta bort</h2>
  <ul>
    <li>Klicka <i data-lucide="edit-3"></i> på raden i tabellen för att ändra.</li>
    <li>Knappen "Lägg till" blir "Spara" när du redigerar.</li>
    <li>Klicka <i data-lucide="trash-2"></i> för att ta bort en rad.</li>
  </ul>

  <h2>5. Backup & Import</h2>
  <ul>
    <li><b>Backup</b>: Skapar en .json-fil med all din data.</li>
    <li><b>Import</b>: Du kan läsa in en backup för att återställa.</li>
    <li>Gamla backup-format stöds. Gamla rader mappas om till det nya upplägget automatiskt.</li>
  </ul>

  <h2>6. Auto-backup (COV)</h2>
  <ul>
    <li>I Inställningar finns <b>Auto-backup (COV)</b>.</li>
    <li>När den är aktiv skapas backup automatiskt bara när något ändras – inte var 5:e minut.</li>
  </ul>

  <h2>7. Offline / PWA</h2>
  <ul>
    <li>Appen fungerar offline med Service Worker.</li>
    <li>Du kan lägga till den på hemskärmen i mobilen som en egen ikon.</li>
  </ul>

  <h2>8. Felsökning</h2>
  <div class="problem">
    Appen laddar inte?<br/>
    • Prova hård uppdatering (Ctrl+Shift+R på dator).<br/>
    • Eller avregistrera service workern och öppna igen.<br/>
  </div>
</main>

<script>
if(window.lucide) lucide.createIcons();
</script>
</body>
</html>