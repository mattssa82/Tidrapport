<!DOCTYPE html>
<html lang="sv">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1.0" />
<title>Hj√§lp ‚Äì Tidrapport v10.26</title>

<!-- Tidrapport v10.26 | i samarbete med ChatGPT & Martin Mattsson -->
<script src="lucide.min.js"></script>

<style>
body{
  font-family:system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif;
  line-height:1.5;
  color:#222;
  margin:0;
  background:#f5f7f8;
}

/* header samma stil */
.app-header{
  position:sticky;
  top:0;
  z-index:1000;
  background:#0e6677;
  color:#fff;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:.6rem 1rem;
  box-shadow:0 2px 4px rgba(0,0,0,.25);
}
.app-header h1{
  margin:0;
  font-size:1.1rem;
}
.app-header .header-left{
  display:flex;
  align-items:center;
  gap:.5rem;
}
.app-header button.icon-btn{
  background:transparent;
  border:0;
  color:#fff;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  padding:.25rem;
}

.main{
  max-width:800px;
  margin:1.5rem auto;
  padding:0 1rem 2rem 1rem;
}
h1,h2,h3{color:#0e6677;}
table{
  border-collapse:collapse;
  width:100%;
  margin:1rem 0;
  font-size:.9rem;
  background:#fff;
}
th,td{
  border:1px solid #ccc;
  padding:.4rem .6rem;
  text-align:left;
  vertical-align:top;
}
.code{
  font-family:monospace;
  background:#f4f4f4;
  padding:.1rem .3rem;
  border-radius:.2rem;
}
.colorbox{
  display:inline-block;
  width:1.5em;
  height:1em;
  margin-right:.3em;
  vertical-align:middle;
}
.dgron{background:#dff8dd;}
.dgul{background:#fff2cc;}
.drod{background:#ffd6d6;}
.dhelg{background:#eef3ff;}
.dred{background:#ffe6e6;}
small{color:#555;}
</style>
</head>
<body>

<header class="app-header">
  <div class="header-left">
    <button class="icon-btn" id="homeBtn" title="Tillbaka till Tidrapport">
      <i data-lucide="arrow-left"></i>
    </button>
    <h1>Hj√§lp ‚Äì Tidrapport</h1>
  </div>
  <div>
    <span style="font-size:.75rem;opacity:.8;">v10.26</span>
  </div>
</header>

<div class="main">
  <h2>Syfte</h2>
  <p>
    Tidrapporten l√•ter dig registrera din dag (datum, kategori, timmar, projekt,
    k√∂rtid och anteckning), se m√•nadsvy med f√§rgkodad status, √•rs√∂versikt och
    exportera till CSV/PDF. All data ligger lokalt i webbl√§saren.
  </p>

  <h2>Inmatning ‚Äì steg f√∂r steg</h2>
  <ul>
    <li><b>Datum</b> ‚Äì v√§lj dag i kalendern.</li>
    <li><b>Projekt nr</b> ‚Äì t ex <span class="code">Y2406</span>, <span class="code">Firman</span>.</li>
    <li><b>K√∂rtid (h)</b> ‚Äì restid samma dag. Siffror, <span class="code">.</span> och <span class="code">-</span> √§r till√•tna (t ex <span class="code">1.5</span> eller <span class="code">-0.5</span>).</li>
    <li><b>Kategori &amp; tid</b> ‚Äì en eller flera rader:
      <ul>
        <li>V√§lj kategori (Ordinarie tid, Flextid, Semester, ATF, √ñT, VAB, Sjuk, FL, TL, Traktamente m.fl.).</li>
        <li>S√§tt antal timmar per rad. Du f√•r anv√§nda negativa v√§rden, t.ex. <span class="code">-2</span> p√• Flextid.</li>
        <li>Du kan inte ha tv√• rader med samma kategori i samma inmatning.</li>
      </ul>
    </li>
    <li><b>Dagboksanteckning</b> ‚Äì kort text om vad du gjort.</li>
  </ul>
  <p>
    N√§r du klickar <b>L√§gg till</b> skapas en rad per kategori i m√•nadslistan.
    Datum, projekt och anteckning delas mellan raderna. K√∂rtid kopplas till den
    f√∂rsta kategoriraden.
  </p>

  <h3>Regler f√∂r kombinationer</h3>
  <ul>
    <li><b>Ordinarie tid</b> f√•r <u>inte</u> kombineras med negativa timmar p√• Flextid, ATF, √ñT, Semester eller Traktamente i samma inmatning. L√§gg d√• den negativa raden i en egen inmatning.</li>
    <li><b>Ordinarie tid</b> f√•r inte kombineras med <b>VAB, Sjuk, F√∂r√§ldraledig, Tj√§nstledig</b> i samma inmatning.</li>
  </ul>

  <h3>TL och minus</h3>
  <ul>
    <li><b>Tj√§nstledig (TL)</b> ‚Äì fr√•nvaro per timme, fungerar som VAB och FL och ger ‚Äúfr√•nvaro‚Äù-status i larm.</li>
    <li><b>Minusv√§rden</b> ‚Äì till√•tna p√• t.ex. Flextid, ATF, √ñvertid och TL och r√§knas fullt ut i summeringar och export.</li>
    <li><b>√ñT &gt;2</b> och <b>√ñvertid-Helg</b> √§r tv√• separata kategorier och redovisas var f√∂r sig.</li>
  </ul>

  <h2>Balansregler / f√§rger</h2>
  <p>
    Varje dag i m√•nadslistan f√§rgas efter hur fullst√§ndig den √§r:
  </p>
  <ul>
    <li><span class="colorbox dgron"></span><b>Gr√∂n</b> ‚Äì dagen r√§knas som ‚Äúkomplett‚Äù (ca 8 h ordinarie eller motsvarande, inkl. negativa flextider/ATF/√ñT/semester som motsvarar en hel dag).</li>
    <li><span class="colorbox dgul"></span><b>Gul</b> ‚Äì under 8 h arbetstid eller ren fr√•nvaro (VAB/Sjuk/FL/TL).</li>
    <li><span class="colorbox drod"></span><b>R√∂d</b> ‚Äì vardag utan n√•gon registrerad tid.</li>
    <li><span class="colorbox dhelg"></span><b>Bl√•</b> ‚Äì helg (l√∂r/s√∂n).</li>
    <li><span class="colorbox dred"></span><b>Rosa</b> ‚Äì r√∂d dag som du lagt in under ‚ÄúEgna r√∂da dagar‚Äù.</li>
  </ul>

  <h3>Larm / Obalans</h3>
  <p>
    Under m√•nadslistan finns en ruta <b>Larm / Obalans denna m√•nad</b> som listar:
  </p>
  <ul>
    <li>üî¥ R√∂d ikon ‚Äì vardagar utan registrering.</li>
    <li>üü° Gul ikon ‚Äì dagar med under 8 h arbetstid, eller ren fr√•nvaro (VAB/Sjuk/FL/TL).</li>
    <li>‚ÑπÔ∏è Bl√• ikon ‚Äì visas n√§r det inte finns n√•gra larm.</li>
  </ul>
  <p>
    Helger och r√∂da dagar ger inga larm.
  </p>

  <h2>R√∂da dagar</h2>
  <p>
    I menyn kan du l√§gga in egna r√∂da dagar som kommaseparerad lista, t.ex:<br/>
    <span class="code">2025-06-06, 2025-12-26</span><br/>
    Markera <b>Visa r√∂da dagar</b> s√• markeras de i m√•nadslistan som r√∂da
    ‚Äúr√∂ddag‚Äù-rader och r√§knas inte som saknade dagar.
  </p>

  <h2>√Örs√∂versikt</h2>
  <p>
    L√§ngst ned ser du en √•rs√∂versikt per m√•nad med summerade timmar:
  </p>
  <ul>
    <li><b>Ordinarie</b></li>
    <li><b>K√∂rtid</b></li>
    <li><b>Flex</b></li>
    <li><b>√ñT&lt;2</b>, <b>√ñT&gt;2</b>, <b>Helg</b></li>
    <li><b>Semester</b>, <b>ATF</b></li>
    <li><b>VAB</b>, <b>Sjuk</b>, <b>FL</b> (F√∂r√§ldraledig), <b>TL</b> (Tj√§nstledig)</li>
    <li><b>Trakt</b> (antal dagar med traktamente)</li>
  </ul>

  <h2>Import / Export / Backup</h2>
  <ul>
    <li><b>G√∂r backup nu</b> ‚Äì laddar ner en JSON med all data + inst√§llningar.</li>
    <li><b>Importera JSON</b> ‚Äì l√§s in en backupfil. St√∂d f√∂r b√•de nya och √§ldre format.</li>
    <li><b>Exportera CSV (m√•nad)</b> ‚Äì alla rader den valda m√•naden. G√•r att √∂ppna i Excel.</li>
    <li><b>Exportera PDF (m√•nad)</b> ‚Äì A3 liggande med rubriker.</li>
    <li><b>Exportera √Örs√∂versikt</b> ‚Äì summering per m√•nad till CSV.</li>
  </ul>

  <h2>Auto-backup (vid √§ndring)</h2>
  <p>
    Om <b>Auto-backup (vid √§ndring)</b> √§r aktiverad i menyn sparas en snapshot i
    din <span class="code">localStorage</span> varje g√•ng du √§ndrar n√•got (l√§gger till,
    √§ndrar, raderar eller √§ndrar inst√§llningar). Ingen tidsstyrd spam, bara vid
    √§ndring.
  </p>

  <h2>Offline / PWA</h2>
  <p>
    Appen anv√§nder en <span class="code">service worker (sw.js)</span> s√• att du kan k√∂ra offline.
    Du kan l√§gga till appen som ikon p√• mobilen (PWA). Allting sparas lokalt ‚Äì
    inget skickas iv√§g automatiskt.
  </p>

  <h2>Support / fels√∂kning</h2>
  <ol>
    <li>Klicka <b>G√∂r backup nu</b> och spara JSON-filen.</li>
    <li>Skicka filen vid behov f√∂r fels√∂kning.</li>
    <li>Du kan alltid √•terst√§lla genom att importera samma fil igen.</li>
  </ol>

  <small>
    Tidrapport v10.26 ‚Äì i samarbete med ChatGPT &amp; Martin Mattsson
  </small>
</div>

<script>
if(window.lucide){ lucide.createIcons(); }
document.getElementById("homeBtn").addEventListener("click", () => {
  window.location.href = "index.html";
});
</script>
</body>
</html>